<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vital+ | Familiar Supervisor</title>
    <link rel="stylesheet" href="../styles/dashboard_supervisor.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    <img src="../assets/b5da1dd6-796b-41f9-a6d2-19936f1205ac.png" alt="Logo Vital+"
                        class="sidebar-logo">
                    <div class="sidebar-brand">
                        <h1>Vital+</h1>
                        <span>Familiar Supervisor</span>
                    </div>
                </div>

                <ul class="sidebar-nav">
                    <li class="sidebar-item active">
                        <a class="sidebar-link" href="dashboard_supervisor.html">
                            <i data-feather="home"></i>
                            <span>Meu Dependente</span>
                        </a>
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" href="#" id="relatoriosLink">
                            <i data-feather="file-text"></i>
                            <span>Relatórios</span>
                        </a>
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" href="comunicacao_supervisor.html">
                            <i data-feather="message-square"></i>
                            <span>Comunicação</span>
                        </a>
                    </li>
                    <li class="sidebar-item">
                        <a class="sidebar-link" href="alertas_supervisor.html">
                            <i data-feather="bell"></i>
                            <span>Alertas</span>
                        </a>
                    </li>
                </ul>

                <div class="sidebar-footer">
                    <small>Vital+ &copy; 2025</small>
                </div>
            </div>
        </nav>

        <!-- Conteúdo Principal -->
        <div class="main-content">
            <header class="header">
                <div class="header-title">
                    <h1>Supervisão do Dependente</h1>
                    <p>Acompanhamento remoto e relatórios detalhados</p>
                </div>

                <div class="header-actions">
                    <button class="btn btn-primary" id="exportReportBtn">
                        <i data-feather="download"></i> Exportar Relatório
                    </button>

                    <div class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">
                            <i data-feather="user"></i>
                            <span id="userName">Supervisor</span>
                        </a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="perfil_supervisor.html">
                                <i data-feather="settings"></i> Configurações
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#" id="logoutBtn">
                                <i data-feather="log-out"></i> Sair
                            </a>
                        </div>
                    </div>
                </div>
            </header>

            <main class="dashboard">
                <!-- Perfil do Dependente -->
                <div class="card patient-profile">
                    <div class="patient-avatar">
                        <img src="../assets/default-avatar.png" alt="Foto do dependente" id="dependenteFoto"
                            class="patient-avatar-img"
                            style="width: 90px; height: 90px; object-fit: cover; border-radius: 50%;">
                        <h4 id="dependenteNome">Carregando...</h4>
                        <span class="badge bg-info" id="dependenteIdade">...</span>
                    </div>

                    <div class="patient-status">
                        <div class="health-status">
                            <i data-feather="heart"></i>
                            <div>
                                <h5 id="healthStatus">Estável</h5>
                                <p class="text-muted" id="healthDescription">Todas as métricas normais</p>
                            </div>
                        </div>

                        <div class="patient-info">
                            <div class="info-item">
                                <small>Condição Principal</small>
                                <p id="dependenteCondicao">Carregando...</p>
                            </div>
                            <div class="info-item">
                                <small>Cuidador Atribuído</small>
                                <p id="cuidadorNome">Carregando...</p>
                            </div>
                            <div class="info-item">
                                <small>Contato do Cuidador</small>
                                <p id="cuidadorContato">...</p>
                            </div>
                            <div class="info-item">
                                <small>Familiar Responsável</small>
                                <p id="familiarName">Carregando...</p>
                            </div>
                            <div class="info-item">
                                <small>Última Atualização</small>
                                <p id="ultimaAtualizacao">--/--/---- --:--</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grid Principal -->
                <div class="dashboard-grid">
                    <!-- Feed de Atividades -->
                    <div class="card">
                        <div class="card-header">
                            <h3><i data-feather="activity"></i> Feed de Atividades</h3>
                            <select id="periodoFilter">
                                <option value="hoje">Hoje</option>
                                <option value="semana">Esta Semana</option>
                                <option value="mes">Este Mês</option>
                            </select>
                        </div>
                        <div class="card-body">
                            <div class="activity-feed" id="activityFeed">
                                <!-- Atividades carregadas via JavaScript -->
                                <div class="empty-state">
                                    <i data-feather="clock"></i>
                                    <p>Nenhuma atividade recente</p>
                                    <small class="text-muted">As atividades aparecerão aqui quando forem registradas</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Resumo de Saúde -->
                    <div class="card">
                        <div class="card-header">
                            <h3><i data-feather="heart"></i> Resumo de Saúde</h3>
                            <span class="badge bg-success" id="statusGeral">Estável</span>
                        </div>
                        <div class="card-body">
                            <div class="vitals-grid">
                                <div class="vital-card">
                                    <i data-feather="activity"></i>
                                    <div>
                                        <h4 id="pressaoMedia">--/--</h4>
                                        <small>Pressão Arterial</small>
                                    </div>
                                    <span class="badge bg-secondary" id="pressaoStatus">--</span>
                                </div>

                                <div class="vital-card">
                                    <i data-feather="droplet"></i>
                                    <div>
                                        <h4 id="glicemiaMedia">--</h4>
                                        <small>Glicemia (mg/dL)</small>
                                    </div>
                                    <span class="badge bg-secondary" id="glicemiaStatus">--</span>
                                </div>

                                <div class="vital-card">
                                    <i data-feather="thermometer"></i>
                                    <div>
                                        <h4 id="temperaturaMedia">--</h4>
                                        <small>Temperatura (°C)</small>
                                    </div>
                                    <span class="badge bg-secondary" id="temperaturaStatus">--</span>
                                </div>

                                <div class="vital-card">
                                    <i data-feather="check-circle"></i>
                                    <div>
                                        <h4 id="medicamentosTaxa">--%</h4>
                                        <small>Adesão Medicamentos</small>
                                    </div>
                                    <span class="badge bg-secondary" id="medicamentosStatus">--</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Alertas Importantes -->
                    <div class="card">
                        <div class="card-header">
                            <h3><i data-feather="alert-triangle"></i> Alertas Recentes</h3>
                            <a href="alertas_supervisor.html" class="btn btn-sm btn-outline">Ver todos</a>
                        </div>
                        <div class="card-body">
                            <div class="alerts-container" id="alertsList">
                                <!-- Alertas carregados via JavaScript -->
                                <div class="empty-state">
                                    <i data-feather="bell-off"></i>
                                    <p>Nenhum alerta no momento</p>
                                    <small class="text-muted">Todos os indicadores estão dentro dos parâmetros normais</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Comunicação Rápida -->
                    <div class="card">
                        <div class="card-header">
                            <h3><i data-feather="message-square"></i> Comunicação com Cuidador</h3>
                        </div>
                        <div class="card-body">
                            <div class="communication-quick">
                                <div class="message-preview" id="lastMessage">
                                    <p class="text-muted">Nenhuma mensagem recente</p>
                                </div>
                                <form class="message-form" id="messageForm">
                                    <textarea placeholder="Digite sua mensagem para o cuidador..." rows="2"></textarea>
                                    <button type="submit" class="btn btn-primary btn-sm">
                                        <i data-feather="send"></i> Enviar
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="../js/dashboard_supervisor.js"></script>
</body>

</html>